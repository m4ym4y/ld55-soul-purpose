[gd_scene load_steps=8 format=3 uid="uid://dw8sq5c35d3e3"]

[ext_resource type="Script" path="res://room.gd" id="1_5a0lj"]
[ext_resource type="Texture2D" uid="uid://dp6t6a8nt5ogo" path="res://assets/room1.png" id="2_uhwfe"]
[ext_resource type="Texture2D" uid="uid://bn867nufsawqh" path="res://assets/room.png" id="3_bvvmn"]
[ext_resource type="Texture2D" uid="uid://dgpg7c0bmxrh0" path="res://assets/dave.png" id="4_2dpmh"]
[ext_resource type="PackedScene" uid="uid://d1b6843ixwxes" path="res://transition_box.tscn" id="5_p8ga4"]

[sub_resource type="SpriteFrames" id="SpriteFrames_akn02"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_bvvmn")
}],
"loop": false,
"name": &"default",
"speed": 0.0
}, {
"frames": [{
"duration": 5.0,
"texture": ExtResource("3_bvvmn")
}, {
"duration": 1.0,
"texture": ExtResource("2_uhwfe")
}, {
"duration": 4.0,
"texture": ExtResource("3_bvvmn")
}, {
"duration": 1.0,
"texture": ExtResource("2_uhwfe")
}, {
"duration": 3.0,
"texture": ExtResource("3_bvvmn")
}, {
"duration": 1.0,
"texture": ExtResource("2_uhwfe")
}, {
"duration": 2.0,
"texture": ExtResource("3_bvvmn")
}, {
"duration": 1.0,
"texture": ExtResource("2_uhwfe")
}, {
"duration": 1.0,
"texture": ExtResource("3_bvvmn")
}, {
"duration": 1.0,
"texture": ExtResource("2_uhwfe")
}],
"loop": false,
"name": &"summoning",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_yot1y"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_2dpmh")
}],
"loop": true,
"name": &"dave",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": null
}],
"loop": false,
"name": &"default",
"speed": 0.0
}]

[node name="RoomScene" type="Node2D"]
script = ExtResource("1_5a0lj")

[node name="Room" type="AnimatedSprite2D" parent="."]
position = Vector2(400, 300)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_akn02")

[node name="Button" type="Button" parent="."]
offset_left = 21.0
offset_top = 124.0
offset_right = 150.0
offset_bottom = 155.0
text = "Summon a Soul ($17 in supplies)"

[node name="Balance" type="Label" parent="."]
offset_left = 23.0
offset_top = 86.0
offset_right = 121.0
offset_bottom = 109.0
text = "<PLACEHOLDER>"

[node name="Fade" type="ColorRect" parent="."]
visible = false
offset_right = 800.0
offset_bottom = 600.0
color = Color(0, 0, 0, 0.588235)

[node name="SummonResult" type="AnimatedSprite2D" parent="."]
position = Vector2(400, 300)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_yot1y")

[node name="Timer" type="Timer" parent="."]

[node name="ResultLabel" type="Label" parent="."]
visible = false
offset_left = 24.0
offset_top = 478.0
offset_right = 204.0
offset_bottom = 501.0
scale = Vector2(4.10007, 4.38846)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 6
text = "YOU SUMMONED DAVE"

[node name="NextDayButton" type="Button" parent="."]
offset_left = 23.0
offset_top = 170.0
offset_right = 170.0
offset_bottom = 201.0
text = "Start the next day"

[node name="TransitionBox" parent="." instance=ExtResource("5_p8ga4")]
visible = false

[connection signal="animation_finished" from="Room" to="." method="_on_room_animation_finished"]
[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="pressed" from="NextDayButton" to="." method="_on_next_day_button_pressed"]
[connection signal="dismissed" from="TransitionBox" to="." method="_on_transition_box_dismissed"]
